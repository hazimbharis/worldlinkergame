[gd_scene load_steps=19 format=3 uid="uid://dl7ik1bw5ss7w"]

[ext_resource type="Script" path="res://scripts/game.gd" id="1_tb4hl"]
[ext_resource type="Texture2D" uid="uid://d0pgtsff2or7p" path="res://assets/models/environment/starsbackground.png" id="2_75pya"]
[ext_resource type="PackedScene" uid="uid://bkku6p607cwxt" path="res://scenes/camera_controller.tscn" id="3_o6r2t"]
[ext_resource type="Script" path="res://scenes/RailManager.gd" id="5_c0j7f"]
[ext_resource type="PackedScene" uid="uid://d2r0qve1tdsvx" path="res://scenes/UI_Overlay.tscn" id="5_sfxou"]
[ext_resource type="PackedScene" uid="uid://ee6avb43brth" path="res://scenes/blower.tscn" id="6_qty5k"]
[ext_resource type="PackedScene" uid="uid://fnjs10vv8vmr" path="res://tmp/stars.tscn" id="6_tmhey"]
[ext_resource type="PackedScene" uid="uid://c72c2khpa2aoh" path="res://tmp/starrail.tscn" id="8_0dkg3"]
[ext_resource type="Texture2D" uid="uid://cts41etp6hsip" path="res://assets/sparkle.png" id="8_pok27"]
[ext_resource type="AudioStream" uid="uid://bee3u1sxwgc23" path="res://assets/musics/The Planets; Neptune - Gustav Holst.mp3" id="11_ja0lb"]
[ext_resource type="PackedScene" uid="uid://wiphvr2otfsv" path="res://tmp/system_a.tscn" id="11_qxhfv"]
[ext_resource type="PackedScene" uid="uid://b75etd08fnnrp" path="res://assets/models/environment/Fence.glb" id="12_hxadf"]

[sub_resource type="PanoramaSkyMaterial" id="PanoramaSkyMaterial_yvj02"]
panorama = ExtResource("2_75pya")

[sub_resource type="Sky" id="Sky_fer8n"]
sky_material = SubResource("PanoramaSkyMaterial_yvj02")

[sub_resource type="Environment" id="Environment_ll5tq"]
background_mode = 2
sky = SubResource("Sky_fer8n")
adjustment_enabled = true

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_c7100"]
emission_shape = 1
emission_sphere_radius = 0.5
direction = Vector3(0, -1, 0)
spread = 10.0
initial_velocity_min = 1.0
initial_velocity_max = 5.0
gravity = Vector3(0, 0, 0)
damping_min = 2.0
damping_max = 5.0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_0aqgv"]
transparency = 2
alpha_scissor_threshold = 0.9
alpha_antialiasing_mode = 0
shading_mode = 0
albedo_color = Color(1, 0, 0, 1)
albedo_texture = ExtResource("8_pok27")
billboard_mode = 3
particles_anim_h_frames = 1
particles_anim_v_frames = 1
particles_anim_loop = false

[sub_resource type="QuadMesh" id="QuadMesh_8tf21"]
material = SubResource("StandardMaterial3D_0aqgv")
size = Vector2(0.5, 0.5)

[node name="main" type="Node3D"]
script = ExtResource("1_tb4hl")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_ll5tq")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866025, -0.433013, 0.25, 0, 0.5, 0.866025, -0.5, 0.75, -0.433013, 0, 0, 0)
shadow_enabled = true

[node name="CameraController" parent="." node_paths=PackedStringArray("trail") instance=ExtResource("3_o6r2t")]
trail = NodePath("../GPUParticles3D")

[node name="Planets" type="Node" parent="."]

[node name="Building" type="Node" parent="."]
script = ExtResource("5_c0j7f")
rail_node = ExtResource("8_0dkg3")
blow_node = ExtResource("6_qty5k")

[node name="CanvasLayer" parent="." instance=ExtResource("5_sfxou")]
unique_name_in_owner = true

[node name="MultiMeshStars" parent="." instance=ExtResource("6_tmhey")]
max_dist = 500

[node name="GPUParticles3D" type="GPUParticles3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 12.1239, 0, 0)
visible = false
amount = 250
process_material = SubResource("ParticleProcessMaterial_c7100")
draw_pass_1 = SubResource("QuadMesh_8tf21")

[node name="SystemA" parent="." instance=ExtResource("11_qxhfv")]
transform = Transform3D(0.1, 0, 0, 0, 0.1, 0, 0, 0, 0.1, 0, 0, 0)

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("11_ja0lb")
volume_db = 4.685
autoplay = true

[node name="Fence2" parent="." instance=ExtResource("12_hxadf")]
transform = Transform3D(0.599453, 0, 0.253885, 0, 0.651, 0, -0.253885, 0, 0.599453, -8.98202, 0, 5.87155)

[node name="Fence3" parent="." instance=ExtResource("12_hxadf")]
transform = Transform3D(0.610562, 0, 0.225866, 0, 0.651, 0, -0.225866, 0, 0.610562, -12.0611, 0, 7.0682)

[node name="Fence4" parent="." instance=ExtResource("12_hxadf")]
transform = Transform3D(0.600127, 0, 0.138936, 0, 0.616, 0, -0.138936, 0, 0.600127, -15.1653, 0.207617, 8.01183)
